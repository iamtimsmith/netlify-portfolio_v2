{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/how-to-build-a-blog-with-wordpress-and-gatsby-part-2/","webpackCompilationHash":"d6a7e20621bffa5f0a6a","result":{"data":{"markdownRemark":{"html":"<article class=\"message\">\n  <div class=\"message-body\">\n    Note: This is part two in a series of posts about Gatsby.js and WordPress. You can find <a href=\"/blog/how-to-build-a-blog-with-wordpress-and-gatsby-part-1\">Part One here</a>, and <a href=\"/blog/how-to-build-a-blog-with-wordpress-and-gatsby-part-3\">Part Three here</a>.\n  </div>\n</article>\n<p>In the last post, we covered setting up <a href=\"/blog/how-to-build-a-blog-with-wordpress-and-gatsby-part-1\">WordPress for use with Gatsby</a>. Today we will cover how to pull the data from WordPress into Gatsby and build pages.</p>\n<p>I have set up a wordpress site for us to use with the plugins mentioned in the last post as well as some dummy content for us to use. If you're curious, my favorite lorem generator is <a href=\"http://fillerama.io/\">Fillerama</a> which offers random content from Futurama, Monty Python, Star Wars, and more. This is where the content came from.</p>\n<p><video src=\"https://media.giphy.com/media/sDcfxFDozb3bO/giphy.mp4\" playsinline autoplay muted loop></video></p>\n<h2>Gatsby js Starter</h2>\n<p>One of the nice things about Gatsby are the starter projects. These are available for most applications and setups including WordPress, although we won't be using that today. We will just be using the starter default so we can configure everything ourselves.</p>\n<p>In the future, it may be beneficial to take a look at the various starters and see if there's one that meets your needs. This can be a HUGE time saver and gives us the ability to get straight into the development portion without having to worry about configuration.</p>\n<h3>Gatsby Default Starter</h3>\n<p>Before we get into the code, let's talk about the <a href=\"https://github.com/gatsbyjs/gatsby-starter-default\">Gatsby starter default</a>. This project is the default (obviously) project that will be built when we create a new gatsby project with the cli. It comes with a few plugins, but not too much so it's wide open for customization.</p>\n<p>Before we dig into the project files, lets set create our project. First we need to install the gatsby-cli tool with the code below:</p>\n<div class=\"gatsby-code-title pre-title\">terminal</div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g gatsby-cli</code></pre></div>\n<p>Once that finishes installing, we can actually create our project. Navigate into the directory you want your project folder to live in and run the following command:</p>\n<div class=\"gatsby-code-title pre-title\">terminal</div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">gatsby new gatsby-wordpress</code></pre></div>\n<p>Now that we have our project created, let's take a look inside. We will see a <code>src</code> folder along with several files. Here's a little breakdown of what these do:</p>\n<ul>\n<li><strong>src/</strong>: Directory that holds our React js project</li>\n<li><strong>.gitignore</strong>: Tells what shouldn't be captured in git commits</li>\n<li><strong>.prettierrc</strong>: Determines styles in code editor (tabs, quotes, etc)</li>\n<li><strong>LICENSE</strong>: Basic MIT license</li>\n<li><strong>README.md</strong>: Markdown file with instructions for use</li>\n<li><strong>gatsby-browser.js</strong>: Gatsby Browser API stuff goes here. Global style calls go here too</li>\n<li><strong>gatsby-config.js</strong>: Configuration for our project including meta data and plugins</li>\n<li><strong>gatsby-node.js</strong>: Where we tell gatsby to build pages from a template using provided data</li>\n<li><strong>gatsby-ssr.js</strong>: Gatsby Server Side Rendering APIs go here</li>\n<li><strong>package.json</strong>: File which holds custom scripts, dependency information, etc</li>\n</ul>\n<p>These files will be present in all Gatsby starters we use, so it's worth our time to have at least a basic level of understanding with each one. Let's take a look and see what dependencies and plugins we have by default. Open up the <code>package.json</code> file and scroll down to dependencies. This will tell us what packages we already have. Mine looks like this:</p>\n<div class=\"gatsby-code-title pre-title\">package.json</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby-starter-default\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"private\"</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"description\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"A simple starter to get up and developing quickly with Gatsby\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"version\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"0.1.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"author\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Kyle Mathews &lt;mathews.kyle@gmail.com>\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"dependencies\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"gatsby\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^2.3.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"gatsby-image\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^2.0.35\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"gatsby-plugin-manifest\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^2.0.25\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"gatsby-plugin-offline\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^2.0.25\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"gatsby-plugin-react-helmet\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^3.0.11\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"gatsby-plugin-sass\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^2.0.11\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"gatsby-plugin-sharp\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^2.0.32\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"gatsby-source-filesystem\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^2.0.28\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"gatsby-transformer-sharp\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^2.1.17\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"node-sass\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^4.11.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"path\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^0.12.7\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"prop-types\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^15.7.2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^16.8.6\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^16.8.6\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"react-helmet\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^5.2.0\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"devDependencies\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"prettier\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^1.16.4\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"keywords\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"gatsby\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"license\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"MIT\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"scripts\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"build\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby build\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"develop\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby develop\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"format\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"prettier --write src/**/*.{js,jsx}\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"start\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"npm run develop\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"serve\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby serve\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"test\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"echo \\\"Write tests! -> https://gatsby.dev/unit-testing \\\"\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"repository\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"git\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"url\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://github.com/gatsbyjs/gatsby-starter-default\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"bugs\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"url\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://github.com/gatsbyjs/gatsby/issues\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>You can see there are several dependencies installed right off the bat. I'll just cover a few of them. Gatsby-Image creates an effect similar to Medium and also allows us to use responsive images and optimize our site. Gatsby-Transformer-Sharp is what creates the responsive and optimized images, then allows us to query for those through GraphQL. We also have Gatsby-Source-Filesystem which could be used to pull in markdown files for content, but we're using WordPress instead. The last package I want to mention is Gatsby-Plugin-React-Helmet, which allows us to create meta tags for the site's head which helps with SEO.</p>\n<p>Whew! That was a mouthful.</p>\n<p><video src=\"https://media.giphy.com/media/eb3WAhXzlUAFi/giphy.mp4\" playsinline autoplay muted loop width=\"400\"></video></p>\n<h3>Running the Site</h3>\n<p>We will be running our Gatsby js site in development so we can see what we're doing. Kinda hard to fly a plane when we can't see where we're going, right?</p>\n<p>To do this, simply run the following command in the terminal and it will build the site in a development environment with hot reloading and more.</p>\n<div class=\"gatsby-code-title pre-title\">terminal</div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">gatsby develop</code></pre></div>\n<p>After running that command, we can visit <a href=\"http://localhost:8000\">localhost:8000</a> in the browser and we should see the site pictured below:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABJUlEQVQoz51QyUoDQRSczxG9e/ALxFz8AZejh5xdwK9wOwjiwYXcRFEQBEMQdMhBDATEBcUYTaKEBKanx+npfmV3h0nGg8ZJQdFNdb2iXjszw2uYHVnH1NAqsmNbWJ7MYSmzj4WJXcyP72Axs4e50U1M63fjM/6/6Fwd38Hy5B4XR2UUDkvIH9zg+vxJ89mexdMHXMa+PnSQQCg5qrUK3uoVSBIYBI6UCoZKEkQo4DNuybgPRUbvvP+XtiER2XSltKipb3gp1tG4bVudFHU9fRt2JnqhrNZEafsM7oaL1isfLNCY44GgxeCu5NEov6cO6zVMrC0F4bHwARGoH3rqhgaRkGh/MnhNX/8CdZunbhgPCBHB8xg4DxB+Rama/bpyEmnDDL4BZJo0duVnt9cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Initial appearance of Gatsby js starter\"\n        title=\"Initial appearance of Gatsby js starter\"\n        src=\"/static/a9344d044f72e6cde99818214ba45947/35c67/gatsby1.png\"\n        srcset=\"/static/a9344d044f72e6cde99818214ba45947/7b5b4/gatsby1.png 188w,\n/static/a9344d044f72e6cde99818214ba45947/d266f/gatsby1.png 375w,\n/static/a9344d044f72e6cde99818214ba45947/35c67/gatsby1.png 750w,\n/static/a9344d044f72e6cde99818214ba45947/1568d/gatsby1.png 1125w,\n/static/a9344d044f72e6cde99818214ba45947/8d0ff/gatsby1.png 1440w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>The site provides a navbar with a link going back to the homepage. There is also a bit of content with a link to page 2 which then provides a link back to page 1. It's very simple, but already we can see how fast gatsby js is.</p>\n<h2>Adding Gatsby js Plugins</h2>\n<p>Now that we know what's already installed and what it looks like to start, we can add the stuff we need to use WordPress with our site. Fortunately for us, Gatsby has a page on their site where you can <a href=\"https://www.gatsbyjs.org/plugins/\">see what plugins are available</a>. We will be adding the following plugins to our site: <a href=\"https://www.gatsbyjs.org/packages/gatsby-source-wordpress/\">Gatsby-Source-WordPress</a> and <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-sitemap/\">Gatsby-Plugin-Sitemap</a>.</p>\n<p>To do this, we can use this code in the terminal:</p>\n<div class=\"gatsby-code-title pre-title\">terminal</div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> gatsby-source-wordpress gatsby-plugin-sitemap</code></pre></div>\n<p>Looking at our <code>package.json</code> file will reveal that each of these packages have been added to the project, but this isn't enough to start using the gatsby-plugin files. We first need to add them to the <code>gatsby-config.js</code> file. Luckily, the docs for these plugins are awesome and do a good job explaining all of this. I'd recommend you take a look at them to find out what each of the settings does, but I'll provide the code for the <code>gatsby-config.js</code> file after adding all of these plugins to our site:</p>\n<div class=\"gatsby-code-title pre-title\">gatsby-config.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  siteMetadata<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    title<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Gatsby Default Starter</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    description<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Kick off your next, great Gatsby project with this \n    default starter. This barebones starter ships with the main Gatsby \n    configuration files you might need.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    author<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">@gatsbyjs</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-react-helmet</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-filesystem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        name<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">images</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        path<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/images</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-sharp</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-sharp</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-manifest</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        name<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-starter-default</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        short_name<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">starter</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        start_url<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        background_color<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">#663399</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        theme_color<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">#663399</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        display<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">minimal-ui</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        icon<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">src/images/gatsby-icon.png</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// This path is relative to the root of the site.</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby-source-wordpress\"</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// I have created a dummy site for us to use with the plugins we discussed</span>\n        baseUrl<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsbypress.iamtimsmith.com\"</span><span class=\"token punctuation\">,</span>\n        protocol<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https\"</span><span class=\"token punctuation\">,</span>\n        hostingWPCOM<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// We will be using some advanced custom fields</span>\n        useACF<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        acfOptionPageIds<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        verboseOutput<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        perPage<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n        searchAndReplaceContentUrls<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          sourceUrl<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://gatsbypress.iamtimsmith.com\"</span><span class=\"token punctuation\">,</span>\n          replacementUrl<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://localhost:8000\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// Set how many simultaneous requests are sent at once.</span>\n        concurrentRequests<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n        includedRoutes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token string\">\"**/categories\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"**/posts\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"**/pages\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"**/media\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"**/tags\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"**/taxonomies\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"**/users\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        excludedRoutes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">normalizer</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> entities <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> entities\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-sass</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-sitemap</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// this (optional) plugin enables Progressive Web App + Offline functionality</span>\n    <span class=\"token comment\">// To learn more, visit: https://gatsby.dev/offline</span>\n    <span class=\"token comment\">// 'gatsby-plugin-offline',</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Making Sure Plugins Are Working</h3>\n<p>If the gatsby site is currently running, we need to stop it and restart it so it pulls in the new content from WordPress. It's important to know that while we can choose what information goes on what pages after our app is built, it will only pull content when it is initially run so changes in the source require a rebuild.</p>\n<p>Once we've restarted our server, we can visit <a href=\"http://localhost:8000/___graphql\">http://localhost:8000/___graphql</a> to use the \"graphical\" playground. Here, we can use graphql to query our data for testing purposes. We should create opening and closing curly braces and then we can use shift+space (ctrl+space on windows) to get suggestions. Once we have the data we want, we will be able to paste the query into our components, pages, and templates so we can use the information available. Here's what my query looks like for now:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABa0lEQVQoz4WSi1KDMBBF+f+fc8aq1WodW94tISEvsBSumxQQKTMyc2cDZM/e7CaI4hh5fkLBGBhJCAEp5V9VEiw5gcW075ihOGRgUQ52HCLJfc/CHIE2Fhk3+G6vWD593/vYdR34LkX5GEK+JqieY4iXmbaJl0o5gqapUVQWXDeU2E+QJVBxCc4kDlkJLjVs3cDY2kc7RlJgjIFLi84VpGkm0Kg50AiNQ1gg/MygaL/mCrocRMU0/Q+stT6x6653ziZg30ErA03OjDaodQ2jLK0XovYFSinvwOXOXf112ENT4Ypgmo7njmqGI45HH0U9bO4Adw6poC4l0qTEKS1hcroJtFYU3SC83Du1IbhcLqt9WwLFPoeg6XKasp+sW28iH73eUlS0ZxW4NhSxz26J2wEwvzIO/hSh+jojaNsW/z0OLN7Tm6MBMMXR3S6DjNjt2rhJu146uHO8JvFBwIfjrzOCOFd8E04FZMjwA1ulThn4gnPoAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GraphQL query tests\"\n        title=\"GraphQL query tests\"\n        src=\"/static/a173b46a2a19dba023ddee5f5a2dca21/35c67/gatsby2.png\"\n        srcset=\"/static/a173b46a2a19dba023ddee5f5a2dca21/7b5b4/gatsby2.png 188w,\n/static/a173b46a2a19dba023ddee5f5a2dca21/d266f/gatsby2.png 375w,\n/static/a173b46a2a19dba023ddee5f5a2dca21/35c67/gatsby2.png 750w,\n/static/a173b46a2a19dba023ddee5f5a2dca21/1568d/gatsby2.png 1125w,\n/static/a173b46a2a19dba023ddee5f5a2dca21/8d0ff/gatsby2.png 1440w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>You may notice that there are several drilldowns inside of the <code>acf</code> field. This is saying \"hey, look for the acf field called feat_img and get the local, optimized versions of these images so we can use them\". Gatsby also provides fragments which means inside of gatsby we could just put <code>...GatsbyImageSharpSizes</code> instead of drilling down so far and gatsby will know what to do with it.</p>\n<p>Since we are seeing stuff on the right-hand side, it means that we are getting our data from WordPress, which is awesome! Now we need to tell gatsby what to do with the data, so let's talk about the <code>gatsby-node.js</code> file a bit.</p>\n<h2>Creating pages in gatsby-node.js</h2>\n<p>As we briefly discussed earlier, the <code>gatsby-node.js</code> file is there so we can build pages programatically from data. There are two pieces to make this work: the logic in <code>gatsby-node.js</code> and a template file to render the data. Let's start by creating a simple template with no dynamic data just to make sure our logic is working properly.</p>\n<h3>Creating Templates in Gatsby js</h3>\n<p>If we look inside the <code>src/</code> folder, we can see directories for components, images, and pages. We need to add one that will house our templates and then add a template for our blog posts. The following code will do this for us:</p>\n<div class=\"gatsby-code-title pre-title\">terminal</div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> ./src/templates <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">touch</span> ./src/templates/BlogPost.js</code></pre></div>\n<p>Unless there is some special functionality needed for blog posts, we can just <a href=\"/blog/class-components-vs-stateless-functional-components/\">use a stateless functional component</a>. I won't go over components in this post, but if you need a refresher, you can <a href=\"/blog/how-to-create-a-component/\">read up on components here</a>.</p>\n<p>Below is the code I'm using for our template starter. This is just to make sure things are working after we finish setting up our <code>gatsby-node.js</code> logic. Once we know the page is being created, we will update the template to display correctly.</p>\n<div class=\"gatsby-code-title pre-title\">src/templates/BlogPost.js</div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">BlogPostTemplate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Layout</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Blog Post Template</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Layout</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> BlogPostTemplate</code></pre></div>\n<h3>What is Gatsby-Node.js Doing?</h3>\n<p>Now let's talk about <code>gatsby-node.js</code> a bit more. Let's start off by discussing why we should use it. We have the ability to create pages and query information for a single blog post, which is very useful... sometimes. Imagine our blog had 100 blog posts and we have to develop a gatsby site to display all of them. Do we really want to go in and create a separate page for every single one of them? That would be A LOT of copying and pasting, not to mention a huge waste of time.</p>\n<p>Gatsby-node.js allows us to pull in a template file, then query our data using graphql. Then we can loop through the appropriate data and programmatically create a page for each piece of data, in our case blog posts and pages. This template will be universal so all blog posts or pages look the same. We can also use different templates for different content types so our pages and blog posts don't have to look the same.</p>\n<p><video src=\"https://media.giphy.com/media/t3Mzdx0SA3Eis/giphy.mp4\" playsinline autoplay muted loop></video></p>\n<p>The code below pulls in the data for blog posts from wordpress and creates a page for each one using the createPage API provided by gatsby js. It is also much easier to pull in templates in this file using the path package, so I installed it using <code>yarn add path</code>.</p>\n<div class=\"gatsby-code-title pre-title\">gatsby-node.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * Implement Gatsby's Node APIs in this file.\n *\n * See: https://www.gatsbyjs.org/docs/node-apis/\n */</span>\n<span class=\"token comment\">// You can delete this file if you're not using it</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">path</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createFilePath <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-filesystem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions<span class=\"token punctuation\">,</span> reporter <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n  <span class=\"token keyword\">const</span> BlogPostTemplate <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./src/templates/BlogPost.js\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    {\n      allWordpressPost {\n        edges {\n          node {\n            slug\n            wordpress_id\n          }\n        }\n      }\n    }\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    reporter<span class=\"token punctuation\">.</span><span class=\"token function\">panicOnBuild</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Error while running GraphQL query.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">const</span> BlogPosts <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allWordpressPost<span class=\"token punctuation\">.</span>edges\n  BlogPosts<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      path<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/post/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>post<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>slug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      component<span class=\"token punctuation\">:</span> BlogPostTemplate<span class=\"token punctuation\">,</span>\n      context<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        id<span class=\"token punctuation\">:</span> post<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>wordpress_id<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Just like before, we will need to restart our development server to see these changes take place. Let's go ahead and do that so we can make sure our logic is working correctly. The easiest way I've found (in development) to see a list of pages is to go to a route that doesn't exist, such as <a href=\"http://localhost:8000/stuff\">http://localhost:8000/stuff</a>.</p>\n<p>We can now see all of the pages available and clicking on one should take us to the blog post template we created earlier that just shows Hello World. If this is what you're seeing, congrats! You're ready to move to the next section.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAAq0lEQVQoz82P3QrCMAxG9/6vaKFeTVC7rftr1zb5zDYUyy7cQNAPDk1KOU0KrTWUUtAnBdf1YACcEjgKiZCkfoeINv0cZl7OoiwvqIxBVdew1qKxDYbGYrgZTMMI51yG9z7rY4y58G7D62L9nUBSM9YHe/KULcLzNcB0Cd0oOELvCSHxKt1JPmEbUfUJtdCK1AeCE8ZJJiXeTPApxZF1dgmPrPMbIb6c/xc+AJ0wZtb0EFSzAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"See a list of pages on the development 404 page\"\n        title=\"See a list of pages on the development 404 page\"\n        src=\"/static/842b955244aa115ed3a48ba0863a367b/35c67/gatsby3.png\"\n        srcset=\"/static/842b955244aa115ed3a48ba0863a367b/7b5b4/gatsby3.png 188w,\n/static/842b955244aa115ed3a48ba0863a367b/d266f/gatsby3.png 375w,\n/static/842b955244aa115ed3a48ba0863a367b/35c67/gatsby3.png 750w,\n/static/842b955244aa115ed3a48ba0863a367b/1568d/gatsby3.png 1125w,\n/static/842b955244aa115ed3a48ba0863a367b/8d0ff/gatsby3.png 1440w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2>Updating Our Blog Post Template</h2>\n<p>Now that we have pages being created at the desired locations, we should update our blog post template to display the appropriate data. Although we need to make some changes, we will keep it as a stateless functional component. The code below will create our template. I would like to point out that we are using graphql to query the information which is then used as a prop called data.</p>\n<div class=\"gatsby-code-title pre-title\">src/templates/BlogPostTemplate.js</div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n<span class=\"token keyword\">import</span> Img <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby-image\"</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token constant\">SEO</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/seo\"</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">BlogPostTemplate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Layout</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SEO</span></span>\n      <span class=\"token attr-name\">title</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>wordpressPost<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">description</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>wordpressPost<span class=\"token punctuation\">.</span>excerpt<span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>wordpressPost<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      Written by </span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>wordpressPost<span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> on </span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>wordpressPost<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Img</span></span>\n      <span class=\"token attr-name\">sizes</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>wordpressPost<span class=\"token punctuation\">.</span>acf<span class=\"token punctuation\">.</span>feat_img<span class=\"token punctuation\">.</span>localFile<span class=\"token punctuation\">.</span>childImageSharp<span class=\"token punctuation\">.</span>sizes<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">alt</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>wordpressPost<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> maxHeight<span class=\"token punctuation\">:</span> <span class=\"token number\">450</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n      <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> marginTop<span class=\"token punctuation\">:</span> <span class=\"token number\">20</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">dangerouslySetInnerHTML</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> __html<span class=\"token punctuation\">:</span> data<span class=\"token punctuation\">.</span>wordpressPost<span class=\"token punctuation\">.</span>content <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Layout</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> BlogPostTemplate\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query($id: Int!) {\n    wordpressPost(wordpress_id: { eq: $id }) {\n      title\n      content\n      excerpt\n      date(formatString: \"MMMM DD, YYYY\")\n      author {\n        name\n      }\n      acf {\n        feat_img {\n          localFile {\n            childImageSharp {\n              sizes(maxWidth: 1200) {\n                ...GatsbyImageSharpSizes\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<p>You may notice that there are a few components inside of our template that we didn't create. These come along with the gatsby starter default and can be modified as needed.</p>\n<p>The Layout component allows us to set a standard layout including header, footer, sidebar, etc on every page. Then we can just wrap our page inside that global layout without having to worry about importing everything inside of every template or page.</p>\n<p>The SEO component allows us to pass in dynamic data such as title, description, and keywords and the component will add those things to the head to improve our site's SEO score. I typically modify this component a bit so I can also pass in an image and I add a few properties to the meta, which allows twitter, facebook, and other sites to display a card like we expect with an image and everything.</p>\n<p>Here's what our completed Blog Post looks like after we update the template:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACMUlEQVQoz32R20tUQRzH97/oqfco6jl6DnroYoKYVoumuYjRu10eIgg0CCy1eijBLtvazco1Sdc9u6uoVKSuEaxLF3QvXtYNUXbPZeZ8mnNcZAlr4MP3/Gbm92Fmjqdubxf1+7rx7unkwqGHXK0I0HrUz6VjfjevnAjQcvCB2nOXxgP3adh/bxun9288k8EELoPzjL37RvjNDFr/LLGBr0Texgn3zxB+HWfo6SeCj6cY8n/mvfp2GB9IMBGcZ9uh8FA2pCyQX1ngdy7Fej7D5voShY1VLD2PVcxhFNbQC7kSa+w0PEJILEuCLUnkJb0JybOkjT8pCXy3ef7Tpu8X9C0ofqBqhcoXKp8kBMn8Vq/jcFzuCYW0XXsoJTk5LDijCWo1J01qozanB5LUvRzDGzPVnMXZiIk3YnFqVKBlpNsr7C2Hp7yIZJQkbOIbEzQ5RA2a49D66AaX245zcRp8MUnzuKRFUR8VxLL2v4XhtKA6ZHAualIfMWicgpruXl717FI/aDcNgShNE9Cg1htjgppR6/8ndIRVI4aSqStpKieh+lYXvu52zl9vwtt+Dd9HqHPWnCuHTLT0TsLSGw4tCA4Hi+oddSqGDYVJpQaVUYV6r6qQWhsRat2gUnFkUOeD6il3uEJZss/mLNq+FOmI63TMGS53FJ3xokqT23FLoeZndXfPzWmdubUtoSw/oV0qCpsbLKcXWc2myS1nWMmkWMmm3Fx1c3G7djK3lEFYJuWOPxL95i73p+E4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Completed Blog Post Page\"\n        title=\"Completed Blog Post Page\"\n        src=\"/static/793c2d55206d5e610dfc2f7c49b0e5b9/35c67/gatsby4.png\"\n        srcset=\"/static/793c2d55206d5e610dfc2f7c49b0e5b9/7b5b4/gatsby4.png 188w,\n/static/793c2d55206d5e610dfc2f7c49b0e5b9/d266f/gatsby4.png 375w,\n/static/793c2d55206d5e610dfc2f7c49b0e5b9/35c67/gatsby4.png 750w,\n/static/793c2d55206d5e610dfc2f7c49b0e5b9/1568d/gatsby4.png 1125w,\n/static/793c2d55206d5e610dfc2f7c49b0e5b9/8d0ff/gatsby4.png 1440w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2>Wrapping up Blog Posts</h2>\n<p>We're about half-way done with the actual Gatsby js build. In this post we covered how to import blog posts from WordPress into our Gatsby js application and create pages automatically for each post. Honestly, this is the hardest part about making sites in Gatsby. If you're still keeping up, great job! If you're struggling, don't be too hard on yourself. This stuff is hard. If you need to, you can reach out to me on twitter <a href=\"https://www.twitter.com/iam_timsmith\">@iam_timsmith</a> and I'll be happy to help you.</p>\n<p><video src=\"https://media.giphy.com/media/g9582DNuQppxC/giphy.mp4\" playsinline autoplay loop muted></video></p>\n<p>The code for this tutorial can be found <a href=\"https://github.com/iamtimsmith/building-a-blog-with-wordpress-and-gatsby\">here</a></p>\n<p>See you in <a href=\"/blog/how-to-build-a-blog-with-wordpress-and-gatsby-part-3\">How To Build A Blog with Wordpress and Gatsby.js - Part 3</a>!</p>","excerpt":"In the last post, we covered setting up WordPress for use with Gatsby. Today we will cover how to pull the data from WordPress into Gatsby and build pages. I","fields":{"slug":"/blog/how-to-build-a-blog-with-wordpress-and-gatsby-part-2/"},"frontmatter":{"title":"How To Build A Blog with Wordpress and Gatsby.js - Part 2","date":"April 19, 2019","keywords":"react js, reactjs, javascript, wordpress, wordpress plugins, gatsbyjs, gatsby js","description":"In the last post, we covered setting up WordPress for use with Gatsby. Today we will cover how to pull the data from WordPress into Gatsby and build pages.","featured_image":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGixu2xMP/EABcQAAMBAAAAAAAAAAAAAAAAAAAREgH/2gAIAQEAAQUCpFvCtK0bP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAQEBAAAAAAAAAAAAAAAAABAxAP/aAAgBAQAGPwLRp//EABkQAAIDAQAAAAAAAAAAAAAAAAABESExYf/aAAgBAQABPyHDCpLJscTZ0EvGJWbP/9oADAMBAAIAAwAAABB47//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAAMBAAIDAAAAAAAAAAAAAAABESExQVFhkf/aAAgBAQABPxByis4bFMZkyRFmp09v4YSHeC1Jvy2f/9k=","aspectRatio":1.7777777777777777,"src":"/static/68c1ce7319506aa8fd12fe48e657f8ab/14dee/featured_image.jpg","srcSet":"/static/68c1ce7319506aa8fd12fe48e657f8ab/6ece9/featured_image.jpg 480w,\n/static/68c1ce7319506aa8fd12fe48e657f8ab/0a89a/featured_image.jpg 960w,\n/static/68c1ce7319506aa8fd12fe48e657f8ab/14dee/featured_image.jpg 1920w","sizes":"(max-width: 1920px) 100vw, 1920px"}}},"tags":"#reactjs #wordpress"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog/how-to-build-a-blog-with-wordpress-and-gatsby-part-2/","previous":{"fields":{"slug":"/blog/how-to-build-a-blog-with-wordpress-and-gatsby-part-3/","type":"posts"}},"next":{"fields":{"slug":"/blog/how-to-build-a-blog-with-wordpress-and-gatsby-part-1/","type":"posts"}}}}}