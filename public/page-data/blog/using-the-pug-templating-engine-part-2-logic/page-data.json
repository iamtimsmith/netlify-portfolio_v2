{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/using-the-pug-templating-engine-part-2-logic/","webpackCompilationHash":"d6a7e20621bffa5f0a6a","result":{"data":{"markdownRemark":{"html":"<p>In <a href=\"/blog/using-the-pug-templating-engine-part-1-markup\">my previous post</a>, I showed you how to create elements in Pug with classes, ids, attributes, and nesting. Today I'm going to show you how you can use variables and logic in your templates to make them dynamic and flexible, allowing you to write one template to hold lots of different pieces of information that are all formatted the same rather than writing out a separate HTML file for each one. Without further adieu, let's get started!</p>\n<p><video src='https://media.giphy.com/media/cfUMNY4RfGhEc/giphy.mp4' autoplay muted loop playsinline></video></p>\n<h2>Creating and using variables within Pug</h2>\n<p>Using JavaScript inside a <code>.pug</code> file is very easy to do since it is a JavaScript templating language. Unlike php, where the code to be executed needs to be wrapped in a <code>&#x3C;?php ?></code> tag, all that's needed to set up a variable in Pug is a hyphen. If you then just want to put that variable into the DOM as-is, an equals sign can accomplish that. Though the example below isn't practical, it helps to  show how variables can be set and used in their simplest form.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">-</span> <span class=\"token keyword\">const</span> greeting <span class=\"token operator\">=</span> <span class=\"token string\">'Hello, Tim'</span>\n\np<span class=\"token operator\">=</span> greeting\n\n<span class=\"token comment\">// renders &lt;p>Hello, Tim&lt;/p></span></code></pre></div>\n<p>Variables created this way can be of any data type that can be used in JavaScript. Below is another example where the variable is creating an array of classes which should be applied to an element. This will illustrate how variables can be used as attributes.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">-</span> <span class=\"token keyword\">const</span> classes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'class-1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'class-2'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token function\">div</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">class</span><span class=\"token operator\">=</span>classes<span class=\"token punctuation\">)</span> Hello\n\n<span class=\"token comment\">// renders &lt;div class=\"class-1 class-2\">Hello&lt;/div></span></code></pre></div>\n<p>That's pretty cool, but what if I want to put it into a message to make, for instance, a more dynamic greeting? That can be accomplished using a string literal in the content for the element. The code below shows how this can be done.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">-</span> <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Tim'</span>\n\np Hello<span class=\"token punctuation\">,</span> #<span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// renders &lt;p>Hello, Tim&lt;/p></span></code></pre></div>\n<p>In addition to just being able to print out the data from a variable, you can also manipulate it the same ways you could in plain JavaScript. This can come in handy if you're trying to make sure that all names are formatted the same or that all numbers are formatted the same. Below is an example of how you can render the variable just like it is above but in uppercase letters.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">-</span> <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Tim'</span>\n\np Hello<span class=\"token punctuation\">,</span> #<span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// renders &lt;p>Hello, TIM&lt;/p></span></code></pre></div>\n<p>Having the ability to use JavaScript right in the templates makes them even more flexible because you can format things (in many cases) as it's being rendered rather than having to pass the variable through several steps before it is ready to display.</p>\n<h2>How do you use conditional logic?</h2>\n<p>As nice as it would be, users don't always fill out forms as much as we'd like. In those cases, we don't want the interface to show a message that just says \"Hello, \". That would be pretty confusing to a user. To fix this, I will create some logic to display different messages depending on whether the name exists. The code for this can be found below.</p>\n<h3>If-Then statements</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">-</span> <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n\n<span class=\"token keyword\">if</span> name\n\tp Hello<span class=\"token punctuation\">,</span> #<span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">else</span>\n\tp Howdy<span class=\"token punctuation\">,</span> partner<span class=\"token operator\">!</span>\n\n<span class=\"token comment\">// renders &lt;p>Howdy, partner!&lt;/p></span></code></pre></div>\n<p>The conditional you see above is a simple, but common example of how logic can be used in templating. Similar to how elements are nested, you can see that conditional logic also uses indentation to determine what goes inside the if-then statement. The example shows an <code>if</code> statement with a check to see if the variable has a value. If so, it runs the code indented beneath it. If it evaluates to <code>false</code>, it will move to the <code>else</code> block where it runs the code indented below.</p>\n<h3>Switch Statements</h3>\n<p>If you have more than one path you need to evaluate for, you can also use a <code>switch</code> statement in Pug. If you've never used a switch statement, it allows you to provide a piece of data to evaluate. Inside the switch statement, you create \"cases\" where you provide as many possible matches (as well as a default) for the data being evaluated. Once a match is found, the switch statement executes whatever code is inside the case statement. If no match is found, the default case is used.</p>\n<p>Below is an example of how to use a switch statement in a Pug template. In this template, I have created a case which looks at <code>userId</code> to determine which user to greet. The variable is set to <code>1</code>, so when the switch statement executes it will follow the <code>when 1</code> path. If the <code>userId</code> variable were set to <code>4</code>, it would follow the default path since no specific case is set for that.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">-</span> <span class=\"token keyword\">const</span> userId <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n\n<span class=\"token keyword\">case</span> userId\n\twhen <span class=\"token number\">0</span>\n\t\tp Hello<span class=\"token punctuation\">,</span> John\n\twhen <span class=\"token number\">1</span>\n\t\tp Hello<span class=\"token punctuation\">,</span> Tim\n\twhen <span class=\"token number\">2</span>\n\t\tp Hello<span class=\"token punctuation\">,</span> Rita\n\t<span class=\"token keyword\">default</span>\n\t\tp Howdy<span class=\"token punctuation\">,</span> partner\n\n<span class=\"token comment\">// renders &lt;p>Hello, Tim&lt;/p></span></code></pre></div>\n<h2>Loops</h2>\n<p>Another common practice when setting up a dynamic webpage is looping over data. This is often done for menus, lists of data, or creating galleries. Writing a loop will feel similar to writing an if statement, in that we put our logic on one line and the code that should be executed is indented on the line below. The following example shows how you can render a grocery list from an array of items.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">-</span> <span class=\"token keyword\">const</span> groceries <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'apple'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'banana'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'popcorn'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'pizza'</span><span class=\"token punctuation\">]</span>\n\nul\n\teach item <span class=\"token keyword\">in</span> groceries\n\t\tli<span class=\"token operator\">=</span> item\n\n<span class=\"token comment\">// renders:</span>\n<span class=\"token comment\">//   &lt;ul></span>\n<span class=\"token comment\">//     &lt;li>apple&lt;/li></span>\n<span class=\"token comment\">//     &lt;li>banana&lt;/li></span>\n<span class=\"token comment\">//     &lt;li>popcorn&lt;/li></span>\n<span class=\"token comment\">//     &lt;li>pizza&lt;/li></span>\n<span class=\"token comment\">//   &lt;/ul></span></code></pre></div>\n<h3>Looping over objects</h3>\n<p>Pug includes a really handy feature that is not as straightforward in regular JavaScript: iterating over objects. Fortunately, Pug allows you to do this in pretty much the same way as looping over an array, which makes it really easy to render key/value pairs if needed. This could be useful if the key is an element id and the value is the content for the element or other situations like that. If you need to iterate over an object, you can follow the example below.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">-</span> <span class=\"token keyword\">const</span> foods <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>fruit<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Kiwi\"</span><span class=\"token punctuation\">,</span> vegetable<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Carrot\"</span><span class=\"token punctuation\">,</span> dairy<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Milk\"</span><span class=\"token punctuation\">,</span> candy<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Snickers\"</span><span class=\"token punctuation\">}</span>\n\nul\n\teach food<span class=\"token punctuation\">,</span> category <span class=\"token keyword\">in</span> foods\n\t\tli My favorite #<span class=\"token punctuation\">{</span>category<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> #<span class=\"token punctuation\">{</span>food<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// renders:</span>\n<span class=\"token comment\">//   &lt;ul></span>\n<span class=\"token comment\">//     &lt;li>My favorite fruit: Kiwi&lt;/li></span>\n<span class=\"token comment\">//     &lt;li>My favorite vegetable: Carrot&lt;/li></span>\n<span class=\"token comment\">//     &lt;li>My favorite dairy: Milk&lt;/li></span>\n<span class=\"token comment\">//     &lt;li>pizza&lt;/li></span>\n<span class=\"token comment\">//   &lt;/ul></span></code></pre></div>\n<h2>Wrapping Up</h2>\n<p>The ability to write JavaScript code in templates is a game changer both in terms of cleaner code and dynamic content. In this post, I've demonstrated some of the most common ways to use logic inside your templates when using Pug as a templating engine. In the next post, I'll show you how to simplify your templates using a DRY, or Don't Repeat Yourself, approach which will save time and effort.</p>\n<p>Have questions? You can reach me on Twitter <a href=\"https://www.twitter.com/iam_timsmith\">@iam_timsmith</a>.</p>","excerpt":"In my previous post, I showed you how to create elements in Pug with classes, ids, attributes, and nesting. Today I'm going to show you how you can use…","fields":{"slug":"/blog/using-the-pug-templating-engine-part-2-logic/"},"frontmatter":{"title":"Using the Pug Templating Engine  Part 2 - Logic","date":"January 22, 2021","keywords":"pug, nodejs, templates","description":"Today I'm going to show you how you can use variables and logic in your templates to make them dynamic and flexible to allow you to display data however you need.","featured_image":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAED/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQIE/9oADAMBAAIQAxAAAAHXOy8ZSf/EABcQAQEBAQAAAAAAAAAAAAAAABEBEAD/2gAIAQEAAQUCOY5Y5//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8BE3s3/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAgMBAAAAAAAAAAAAAAAAECEAASJR/9oACAEBAAY/AppV0sf/xAAaEAACAwEBAAAAAAAAAAAAAAABEQAQIXGh/9oACAEBAAE/Ie4jTwQFvDQAQMV//9oADAMBAAIAAwAAABBvH//EABcRAQADAAAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8QLYWRC4ZP/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAhMf/aAAgBAgEBPxBFMY5t/8QAHBABAQACAgMAAAAAAAAAAAAAAREAITFRQZHB/9oACAEBAAE/EHXjxd6+5WIxtFrrKIAHSkp4cr2+8hhyRwAACBoM/9k=","aspectRatio":1.5,"src":"/static/d45696bb97cea13eebedc4ae9c963d1b/14dee/featured_image.jpg","srcSet":"/static/d45696bb97cea13eebedc4ae9c963d1b/6ece9/featured_image.jpg 480w,\n/static/d45696bb97cea13eebedc4ae9c963d1b/0a89a/featured_image.jpg 960w,\n/static/d45696bb97cea13eebedc4ae9c963d1b/14dee/featured_image.jpg 1920w","sizes":"(max-width: 1920px) 100vw, 1920px"}}},"tags":"#misc"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog/using-the-pug-templating-engine-part-2-logic/","previous":null,"next":{"fields":{"slug":"/blog/using-the-pug-templating-engine-part-1-markup/","type":"posts"}}}}}